<div ng-controller="NewTradeController">

	<div id="loading-page" ng-show="working">
		<%= render 'layouts/loading' %>
	</div>

	<div class="row-fluid">
		<div class="span12">
			<%= form_tag search_trades_path, :method => :get do %>
			<div class="control-group">
				<div class="input-append">
					<%= text_field_tag :search, params[:search], :class => 'span2', :id => 'appendedInputButton-03', :placeholder => 'Search Trades' %>
					<div class="btn-group">
						<%= button_tag '', :name => nil, :class => 'btn' do %>
						<%= content_tag :span, :class => 'fui-search' do %>
						<% end %>
						<% end %>
					</div>
				</div>
			</div>
			<% end %>
		</div>
	</div>

	<div class="alert alert-error" ng-show="alert">
		<p>{{errorMessage}}</p>
	</div>

	<div class="row-fluid mbm">
		<div class="span12">
			<h3>New trade</h3>
		</div>
	</div>

	<div class="row-fluid">
		<div class="span6">
			<div class="well">
				<p>I Have</p>
				<div class="row-fluid">
					<div class="span12">
						<div class="text-center" ng-show="haveCourses.length <= 0">There is no course in Have list. Click 'Add' to add to the list.</div>
						<table class="table table-striped table-hover" ng-show="haveCourses.length > 0">
							<tr>
								<th>Course Number</th>
								<th>Course Name</th>
								<th>Section</th>
								<th></th>
							</tr>
							<tr ng-repeat="course in haveCourses">
								<td>{{course.course_number}}</td>
								<td>{{course.course_name}}</td>
								<td>{{course.course_section}}</td>
								<td><a class="btn btn-small btn-primary" ng-click="haveRemoveCourse($index)">Remove</a></td>
							</tr>
						</table>
					</div>
				</div>

				<div class="row-fluid">
					<div class="span12">
						<div class="well well-small" style="background-color: #BECCCF">
							<div class="row-fluid">
								<div class="span3">
									<input class="span3" type="text" placeholder="Course No." ng-model="haveCourseNo" />
								</div>
								<div class="span5">
									<input class="span5" type="text" placeholder="Course Name" ng-model="haveCourseName" />
								</div>
								<div class="span2">
									<input class="span2" type="number" placeholder="Sec" ng-model="haveCourseSection" />
								</div>
								<div class="span2">
									<a class="btn btn-block btn-primary" ng-click="haveAddCourse()">Add</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="span6">
			<div class="well">
				<p>I Want</p>
				<div class="row-fluid">
					<div class="span12">
						<div class="text-center" ng-show="wantCourses.length <= 0">There is no course in Want list. Click 'Add' to add to the list.</div>
						<table class="table table-striped table-hover" ng-show="wantCourses.length > 0">
							<tr>
								<th>Course Number</th>
								<th>Course Name</th>
								<th>Section</th>
								<th></th>
							</tr>
							<tr ng-repeat="course in wantCourses">
								<td>{{course.course_number}}</td>
								<td>{{course.course_name}}</td>
								<td>{{course.course_section}}</td>
								<td><a class="btn btn-small btn-primary" ng-click="wantRemoveCourse($index)">Remove</a></td>
							</tr>
						</table>
					</div>
				</div>

				<div class="row-fluid">
					<div class="well well-small" style="background-color: #BECCCF">
						<div class="row-fluid">
							<div class="span3">
								<input class="span3" type="text" placeholder="Course No." ng-model="wantCourseNo" />
							</div>
							<div class="span5">
								<input class="span5" type="text" placeholder="Course Name" ng-model="wantCourseName" />
							</div>
							<div class="span2">
								<input class="span2" type="number" placeholder="Sec" ng-model="wantCourseSection" />
							</div>
							<div class="span2">
								<a class="btn btn-block btn-primary" ng-click="wantAddCourse()">Add</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<div class="row-fluid">
		<div class="offset6">
			<div class="well">
				<p>Trade note</p>
				<textarea rows="3" class="span12" placeholder="Description..." ng-model="tradeNote"></textarea>
			</div>

			<a class="btn btn-large btn-primary pull-right" ng-click="postTrade()">Post
				trades!</a>
		</div>
	</div>

</div>