<div class="container-fluid course-index" ng-controller="PageCourseIndex" ng-init="init(<%=@id%><% if user_signed_in? %> <%= ',' %> <%= current_user.id %><%end%>)">
	<div class="row-fluid">
		<div class="span4">
			<div class="row-fluid">
			  <div class="span12 rating-wrapper">
				<div class="span4 rating-box">{{rating.know_rating}}</div>
				<div class="span4 rating-box">{{rating.diff_rating}}</div>
				<div class="span4 rating-box">{{rating.grade_rating}}</div>
			  </div>
			  <!-- Button trigger modal -->
<button class="span12 btn btn-lg" id="ratingModalButton" data-toggle="modal" data-target="#ratingModal">
  Click to rate !
</button>
			</div>

			<div class="row-fluid">
			  <div class="span12 filter-wrapper">
			  	<div ng-repeat="teach in teaches |orderBy:'year':true" class="filter-box">
			  		<h6 id="redYear">Year {{teach.year}}</h6>
			  		<span ng-repeat="prof in teach.professors">Professor {{prof.name}} {{prof.last_name}}<br></span>
			  	</div>
			  </div>
			</div>
		</div>
		<div class="span8">
			<div class="row-fluid">
				<div class="span12 box" id="red">
					<h4>{{ course.number }} : {{ course.title }}</h6>
					<p id="description">
						{{course.description}}
					</p>
					<div ng-click="expandDescription()" class="middle">{{ message }}</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12 box" id="review">
					<div ng-repeat="review in top_comments" class="review-box">
						<div class="content">{{review.content}}</div>
						<div class="footer">
							<ul class="nav pull-left likebox">
								<li class="like" ng-click="like(review)" ng-class="{active:review.like}"><lk><a><lk><span class="badge">{{review.likes}}</span> Like</lk></a></lk></li>
								<li class="dislike" ng-click="dislike(review)" ng-class="{active:review.dislike}"><lk><a><lk><span class="badge">{{review.dislikes}}</span> Dislike</lk></a></lk></li>
							</ul>
							<div class="pull-right author">{{review.created_at}}&nbsp;&nbsp;&nbsp; By {{review.name}}</div>
						</div>
					</div>
					<div class="middle" data-toggle="modal" href="#reviewModal">
					Click to expand
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="reviewModal" class="modal fade hide" role="dialog" tabindex="-1" aria-labelledby="reviewModel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header" id="whiteFooter">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
         			 <h4 class="modal-title" id="red">Course Review</h4>
				</div>
				<div class="modal-body" id="whiteBodyComment">
					<div ng-repeat="review in comments" class="review-box">
						<div class="content">{{review.content}}</div>
						<div class="footer">
							<ul class="nav pull-left likebox">
								<li class="like" ng-click="like(review)" ng-class="{active:review.like}"><lk><a><lk><span class="badge">{{review.likes}}</span> Like</lk></a></lk></li>
								<li class="dislike" ng-click="dislike(review)" ng-class="{active:review.dislike}"><lk><a><lk><span class="badge">{{review.dislikes}}</span> Dislike</lk></a></lk></li>
							</ul>
							<div class="pull-right author">
							{{review.created_at}}&nbsp;&nbsp;&nbsp; By {{review.name}}</div>
						</div>
					</div>
				</div>
				</div>
				  <% if user_signed_in? %>
				<div class="modal-footer" id="whiteFooterComment">
					<div>
						<textarea ng-enter="review()" id="review-post" class="span12 pull-left"></textarea>
					</div>

					<!-- <div class="pull-left dropdown">
						<ul class="nav">
							<li><select class="form-control">				<option value="201">2013</option>
								<option value="2013">2013</option>
								<option value="2013">2012</option>
								<option value="2013">2011</option>
								<option value="2013">2010</option>
							</select></li>
							<li><a>Anon</a></li>
					<div class="pull-left dropdown">
						<ul class="nav" id="like">
							<li><lk><a><lk>Year</lk></a></lk></li>
							<li><lk><a><lk>Anon</lk></a></lk></li>
						</ul>
					</div> -->
					<div class="pull-right">
						<button ng-click="review()" id="fModalBtn" class="btn btn-default">Submit</button>
					</div>
				  <% else %>
				    <div class="pull-left" style="padding:30px">Please sign-in to comment</div>
				  <% end %>
			</div>	
		</div>
	</div>

	<!-- Modal -->
<div class="modal fade" id="ratingModal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" id="whiteBody">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="red">Ratings</h4>
      </div>

      <div class="modal-body" id="whiteBody">
      	<div><h6>Knowledge Recieved:</h6></div>
       <div id="know-rating-slider" class="ui-slider"></div>
		<div><h6>Letters Grade Difficulty:</h6></div>
       <div id="grad-rating-slider" class="ui-slider"></div>
		<div><h6>Textbook Usefulness:</h6></div>
       <div id="text-rating-slider" class="ui-slider"></div>


       </div>
      <div class="modal-footer" id="whiteFooter">
        <button  id="fModalBtn"  class="btn btn-primary" ng-click="rate()" data-toggle="modal" data-target="#ratingModal">Submit</button>
        
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

</div>


